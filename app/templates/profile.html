<!--
Kalimul Kaif, David Lee, Ethan Saldanha, Mottaqi Abedin
MKED
SoftDev 2026
P01 -- ArRESTed Development
2025-11-22
Time spent: 0.5h
-->
{% extends "base.html" %}

{% block title %}Profile{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
  {%if curr_user == username %}
    <h1 class="text-3xl font-bold mb-6">my profile</h1>
  {% else %}
    <h1 class="text-3xl font-bold mb-6">{{username}}'s profile</h1>
  {% endif %}

  {% if curr_user == username %}
    <!-- Account Statistics -->
    <div class="mb-6">
      <h2 class="text-xl font-semibold text-heading mb-3">account statistics</h2>
      <p class="text-body mb-2"><strong>jobs viewed:</strong> {{ total_viewed }}</p>
      <p class="text-body mb-2"><strong>jobs saved:</strong> {{ total_saved }}</p>
      <p class="text-body mb-2"><strong>applications:</strong> {{ total_applied }}</p>
      {% if creation_date %}
        <p class="text-body mb-2"><strong>member since:</strong> {{ creation_date }}</p>
      {% endif %}
    </div>
  {% endif %}

  <!-- Bio Section -->
  <div class="bg-neutral-primary-soft p-6 border border-default rounded-base shadow-xs">
    {% if curr_user == username %}
      <h3 class="text-xl font-semibold mb-3">my bio</h3>
    {% else %}
      <h3 class="text-xl font-semibold mb-3">{{username}}'s bio</h3>
    {% endif %}

    {% if bio %}
      <p class="text-body mb-4">{{ bio }}</p>
    {% else %}
      <p class="text-body mb-4">no bio posted yet!</p>
    {% endif %}

    {% if curr_user == username %}
      <form action="{{ url_for('edit_profile') }}" method="GET">
        <button type="submit" class="inline-flex items-center text-white bg-brand border border-transparent hover:bg-brand-strong focus:ring-4 focus:ring-brand-medium shadow-xs font-medium rounded-base text-sm px-4 py-2 focus:outline-none">edit bio</button>
      </form>
    {% endif %}
  </div>
</div>
{% endblock %}
